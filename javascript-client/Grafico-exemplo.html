<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simulation Chart</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="p-4">

  <div class="container">
    <h3 class="mb-4">Simulation: SEIR Model</h3>
    <canvas id="simulationChart" height="100"></canvas>
  </div>

  <script>
    const csvData = `time;susceptible;exposed;infected;recovered;ave_alpha;num_alpha;ave_gamma;num_gamma;ave_epsilon;num_epsilon
0;9900;0;100;0;0;0;0;0;0;0
1;7831;85;2073;11;0.200607;9900;0.159849;100;0.0103616;9900
2;5193;378;3904;525;0.299357;7916;0.239424;2158;0.0568681;7831
3;3388;1145;3969;1498;0.170131;5571;0.233517;4282;0.188271;5193
4;2319;1750;2746;3185;0.0306161;4533;0.322503;5114;0.287075;3388
5;1654;1664;1661;5021;0.0129184;4069;0.402547;4496;0.27644;2319
6;1453;906;768;6873;0.00806912;3318;0.552645;3325;0.11704;1654
7;1419;409;299;7873;0.00379412;2359;0.587228;1674;0.0220085;1453
8;1416;148;111;8325;0.000933464;1828;0.633203;708;0.000705119;1419
9;1416;46;46;8492;0.000114908;1564;0.653968;259;2.16477e-08;1416
10;1416;22;17;8545;2.82936e-05;1462;0.613807;92;0;1416
11;1416;6;3;8575;0;1438;0.800904;39;0;1416
12;1416;3;0;8581;0;1422;0.685438;9;0;1416
13;1416;0;0;8584;0;1419;0.78756;3;0;1416
14;1416;0;0;8584;0;1416;0;0;0;1416
15;1416;0;0;8584;0;1416;0;0;0;1416
16;1416;0;0;8584;0;1416;0;0;0;1416
17;1416;0;0;8584;0;1416;0;0;0;1416
18;1416;0;0;8584;0;1416;0;0;0;1416
19;1416;0;0;8584;0;1416;0;0;0;1416
20;1416;0;0;8584;0;1416;0;0;0;1416
21;1416;0;0;8584;0;1416;0;0;0;1416
22;1416;0;0;8584;0;1416;0;0;0;1416
23;1416;0;0;8584;0;1416;0;0;0;1416
24;1416;0;0;8584;0;1416;0;0;0;1416
25;1416;0;0;8584;0;1416;0;0;0;1416
26;1416;0;0;8584;0;1416;0;0;0;1416
27;1416;0;0;8584;0;1416;0;0;0;1416
28;1416;0;0;8584;0;1416;0;0;0;1416
29;1416;0;0;8584;0;1416;0;0;0;1416
30;1416;0;0;8584;0;1416;0;0;0;1416
31;1416;0;0;8584;0;1416;0;0;0;1416
32;1416;0;0;8584;0;1416;0;0;0;1416
33;1416;0;0;8584;0;1416;0;0;0;1416
34;1416;0;0;8584;0;1416;0;0;0;1416
35;1416;0;0;8584;0;1416;0;0;0;1416`;

    // Parse CSV
    const lines = csvData.trim().split("\n");
    const headers = lines[0].split(";");

    const time = [];
    const susceptible = [];
    const exposed = [];
    const infected = [];
    const recovered = [];

    lines.slice(1).forEach(line => {
      const parts = line.split(";");
      time.push(parts[0]);
      susceptible.push(parts[1]);
      exposed.push(parts[2]);
      infected.push(parts[3]);
      recovered.push(parts[4]);
    });

    const ctx = document.getElementById('simulationChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: time,
        datasets: [
          {
            label: 'Susceptible',
            data: susceptible,
            borderColor: 'blue',
            fill: false
          },
          {
            label: 'Exposed',
            data: exposed,
            borderColor: 'orange',
            fill: false
          },
          {
            label: 'Infected',
            data: infected,
            borderColor: 'red',
            fill: false
          },
          {
            label: 'Recovered',
            data: recovered,
            borderColor: 'green',
            fill: false
          }
        ]
      },
      options: {
        responsive: true,
        scales: {
          x: {
            title: {
              display: true,
              text: 'Time'
            }
          },
          y: {
            title: {
              display: true,
              text: 'Individuals'
            },
            beginAtZero: true
          }
        }
      }
    });
  </script>
</body>
</html>
